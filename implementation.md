---
title: Implementation
layout: page
---

The implementation of Nuspell is done using *industry standards* for [FOSS](https://en.wikipedia.org/wiki/Free_and_open-source_software) development with a minimum of dependencies. In this way it can be build easily on almost any [platform](https://en.wikipedia.org/wiki/Computing_platform) and will meet expectations on functionality and performance.


# Programming language

Nuspell is implemented in [C++](https://en.wikipedia.org/wiki/C%2B%2B), more specifically in version [C++14](https://en.wikipedia.org/wiki/C%2B%2B14). This object-oriented programming language is available on many platforms. C++ is a compiled language aimed at performance and efficiency making it suitable for system-wide functionality such as spell checking. Nuspell can at least be compiled with [GCC](https://en.wikipedia.org/wiki/GNU_Compiler_Collection) and [Clang](https://en.wikipedia.org/wiki/Clang). For more detailed technical information on development, platforms, [compilers](https://en.wikipedia.org/wiki/Compiler) and [code style](https://en.wikipedia.org/wiki/Programming_style), see the project's [README.md](https://github.com/nuspell/nuspell/blob/master/README.md) and [wiki](https://github.com/nuspell/nuspell/wiki).


# Character encoding

In order to support a broad spectrum of [character encodings](https://en.wikipedia.org/wiki/Character_encoding), hence a broad range of languages, Nuspell uses internally by default a [wide character](https://en.wikipedia.org/wiki/Wide_character) representation. In terms of C++, the datatype used in wide strings `wchar_t`. To optimize performance, also `char16_t` or `char` can be used internally via [C++ templates](https://en.wikipedia.org/wiki/Template_%28C%2B%2B%29) to improve support for respectively [Unicode](https://en.wikipedia.org/wiki/Unicode) UTF-16 (and UTF-8) and standard strings. Nuspell can handle the more than one hundred character encodings which the standard C library supports via [iconv](https://en.wikipedia.org/wiki/Iconv).


# Locales

Contrary to what might be expected, detecting lowercase, uppercase and mainly converting back and forth between them is non-trivial for certain languages. Examples in German are the lowercase `ß`, which converts to uppercase `SS` but not back. The reverse is for the rarely-used uppercase `ẞ` which converts to lowercase `ß` and also not back.

    ss ↔ SS ← ß ← ẞ

Similar challenges are found in converting case with Turkish dotless lowercase `ı` and dotted uppercase `İ` and the Greek alphabet that lowercase `σ` and lowercase `ς`. However, these conversion rules do **not** apply when converting these characters in for example the English language.

These conversion rules and functions depend on the [locale](https://en.wikipedia.org/wiki/Locale_%28computer_software%29) identifier. This consists of a language identifier, possibly combined with a region identifier. An example is `en_US`, which is also used as the default. To convert back and forth according to international standards and in an efficient way, Nuspell uses only the [ICU](https://en.wikipedia.org/wiki/International_Components_for_Unicode) and [Boost](https://en.wikipedia.org/wiki/Boost_%28C%2B%2B_libraries%29) libraries in addition to the standard C++ library.


# Build system

Nuspell's library and command line tool are build with [automake](https://en.wikipedia.org/wiki/Automake). The [README.md](https://github.com/nuspell/nuspell/blob/master/README.md) and [wiki](https://github.com/nuspell/nuspell/wiki) describe how configuration, compiling and linking is done, by command line and IDE. Automake is also used to run [unit tests](https://en.wikipedia.org/wiki/Unit_testing) and [system tests](https://en.wikipedia.org/wiki/System_testing) and to report on [code coverage](https://en.wikipedia.org/wiki/Code_coverage) for testing and documentation coverage.


# Testing

Unit testing with [Catch2](https://en.wikipedia.org/wiki/List_of_unit_testing_frameworks#C++) and system testing can be easily called from the build system. Note that both do not introduce a library dependency. Independent of the build process, [regression testing](https://en.wikipedia.org/wiki/Regression_testing) and [performance testings](https://en.wikipedia.org/wiki/Software_performance_testing) are currently done with [shell scripts](https://en.wikipedia.org/wiki/Shell_script) found in [misc-nuspell](https://github.com/nuspell/misc-nuspell).


# Documentation

Inline documentation of the implemented C++ classes, methods etc. is done according to the [Doxygen](https://en.wikipedia.org/wiki/Doxygen) format. HTML documentation including call graphs are generated by calling Doxygen in the top-level directory. This documentation is mainly aimed at developers. XML documentation is generated too, but is use solely by the build process to reporting on documentation coverage. This documentation can be found [API](/api/).


# Compatability

The command line arguments supported by Nuspell are also available in Hunspell. Command line arguments of Hunspell functionality that is not supported by Nuspell will result in an error. These arguments will not be reused for other new functions.

Dictionary and affix files made for MySpell and Hunspell are also supported by Nuspell. Nuspell parses the files with a different implementation, although the end result is the same. Non-expected options, parameters, etc. are ignored too, allowing for any deprecated that were made in these other spell checkers in the past.


# Logging

Errors, warnings, information and debugging messages are reported using standard output and standard error. To minimize the number of dependencies, no specific logging library is begin used. Also the messages reported are not localized at the moment. This made it possible to also not depend on the [gettext](https://en.wikipedia.org/wiki/Gettext) library.
